[preprocessing]
keep_vars = [
    "authorization_id", "mis_date", "status_name", "risk_score_rf", "se_decision_id",
    "reject_reason", "score_rf", "segment_cut_off", "early_bad"
]
indicators = [
    "acct_booked_h0", "oa_amt", "todu_30ever_h6", "todu_amt_pile_h6", "oa_amt_h0"
]

octroi_bins = [-inf, 364.0, 370.0, 379.0, 382.0, 389.0, 397.0, 404.0, 416.0, 431.0, inf]
efx_bins = [-inf, 2.0, 7.0, 11.0, 16.0, 22.0, 27.0, 33.0, 38.0, 43.0, 47.0, 51.0, 56.0, 62.0, 68.0, 73.0, 78.0, 83.0, 89.0, 94.0, inf]
date_ini_book_obs = "2024-07-01"
date_fin_book_obs = "2025-06-01"
date_ini_book_obs_mr = "2025-07-01"
date_fin_book_obs_mr = "2025-12-01"

score_measures = [
    "m_ct_direct_sc_nov23",
    "m_ct_direct_sc_jan23",
    "m_ct_direct_sc_conso25",
    "m_ct_direct_sc_precon25",
    "m_ct_direct_sc_fintonic25",
    "m_ct_direct_sc_direct25_total"
]
log_level = "INFO"
data_path = "data/demanda_direct_out.sas7bdat"
n_months = 24
variables = ['sc_octroi_new_clus', 'new_efx_clus']
multiplier = 7
z_threshold = 3.0

# Reject inference (optional) - adjusts predicted risk for score-rejected bins
# based on per-bin acceptance rates to correct for selection bias.
reject_inference_method = "parceling"  # "none" (default) or "parceling"
reject_uplift_factor = 1.5            # scaling coefficient for reject ratio (0.0-10.0)
reject_max_risk_multiplier = 3.0      # upper cap for per-bin multiplier (1.0-10.0)

# Fixed cutoffs (optional) - uncomment to skip optimization and use predefined cutoffs
# When set, the optimization step is skipped and these cutoffs are applied directly.
# [preprocessing.fixed_cutoffs]
# sc_octroi_new_clus = [1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0]  # var0 bins
# new_efx_clus = [3, 4, 5, 6, 7, 8, 9, 10, 12, 15]                          # var1 cutoffs
# strict_validation = false  # If true, raise errors instead of warnings for validation issues
# run_all_scenarios = false  # If true, generate all scenarios (pessimistic/base/optimistic)

[preprocessing.directions]
# Explicitly define monotonicity for specific variables (1 = ascending risk, -1 = descending risk)
# If not specified, the pipeline will auto-infer this based on empirical data correlation
sc_octroi_new_clus = -1  # Legacy invert=False meant higher bin = safer (inverse)
new_efx_clus = -1         # Legacy invert=True meant higher bin = riskier (ascending)


[preprocessing.cz_config]
2022 = 4.5
2023 = 4.2
2024 = 3.8
2025 = 3.5  # You can now easily add future years
